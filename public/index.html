<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/styles.css">
    <title>Websy - Example NodeJS/Qlik Sense SSO</title>
  </head>
  <body>
    <div class="main">
      <a href="http://www.websy.io" class="logo-container">
        <div class="logo">
        </div>
        <h2>An example by websy.io</h2>
      </a>
      <p>
        This is an example NodeJS application that demonstrates how to add a
        custom authentication module to Qlik Sense. If you browse to
        <a href="http://localhost:3000/login">http://localhost:3000/login</a>
        you will be presented with a login screen.
      </p>
      <p>
        This example only requires a Username to be provided as we're not
        actually doing any authentication and any username will be accepted.
        The code in the index.js file responsible for the 'authorisation' is:
      </p>
      <pre>
        <code>
          app.post('/login', function(req, res){
            QRS.getTicket(req.body.username, function(err, ticket){
              res.redirect("https://"+process.env.SENSE_SERVER+":"+process.env.SENSE_PORT+
                "/"+process.env.SENSE_PROXY+"/hub?qlikTicket="+ticket.Ticket);
            })
          });
        </code>
      </pre>
      <p>
        If you want to integrate your own authentication then you'll need add your own 'authentication' code before getting the ticket.
      </p>
    </div>
  </body>
</html>
